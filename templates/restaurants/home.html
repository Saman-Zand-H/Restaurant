{% extends "base/layout/base.html" %}
{% load static humanize %}

{% block title %}Rubik Food{% endblock %}

{% block content %}

<body class="index-page bg-gray-200">
    <!-- Navbar -->
    {% include "base/includes/navbar_blur.html" %}

    <header class="header-2">
        <div 
             class="page-header min-vh-75 relative" 
             style="background-image: url('../../static/assets/img/craiyon-3.webp')"
            >
            <span class="mask bg-gradient-primary opacity-4"></span>
            <div class="container">
                <div class="row">
                    <div class="col-lg-7 text-center mx-auto">
                        <h1 class="text-white pt-3 mt-n5">Rubik Food</h1>
                        <p class="lead text-white mt-3">
                            24/7 Food ordering service with complete support 
                            for every single spot in Iran.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6">

        <section class="pt-3 pb-4" id="count-stats">
            <div class="container">
                <div class="row">
                    <div class="col-lg-9 mx-auto py-3">
                        <form 
                              method="GET" 
                              id="addressForm" 
                              action="{% url 'restaurants:list_restaurants' %}"
                             >
                            <div 
                                 class="autocomplete-container form-control" 
                                 id="autocomplete-container"
                                ></div>
                            <input name="lat" id="addressLat" type="hidden">
                            <input name="lon" id="addressLon" type="hidden">
                        </form>
                        <div class="row">
                            <div class="col-md-4 position-relative">
                                <div class="p-3 text-center">
                                    <h1 class="text-gradient text-primary"><span id="state1" countTo="{{ restaurant_num }}">0</span>+</h1>
                                    <h5 class="mt-3">Restaurants</h5>
                                    <p class="text-sm font-weight-normal">
                                        With a country-covered service, we are honored to
                                        host {{ restaurant_num|default:'0'|intcomma }} restaurants here.
                                    </p>
                                </div>
                                <hr class="vertical dark">
                            </div>
                            <div class="col-md-4 position-relative">
                                <div class="p-3 text-center">
                                    <h1 class="text-gradient text-primary"> 
                                        <span id="state2" countTo="{{ item_num }}">0</span>+
                                    </h1>
                                    <h5 class="mt-3">Items</h5>
                                    <p class="text-sm font-weight-normal">
                                        With {{ restaurant_num|default:'0'|intcomma }} restaurants accomponying us, 
                                        we have a total of {{ item_num|default:'0'|intcomma }} items to present to you.
                                    </p>
                                </div>
                                <hr class="vertical dark">
                            </div>
                            <div class="col-md-4">
                                <div class="p-3 text-center">
                                    <h1 class="text-gradient text-primary">
                                        <span id="state3" countTo="{{ user_num }}">0</span>+
                                    </h1>
                                    <h5 class="mt-3">Users</h5>
                                    <p class="text-sm font-weight-normal">
                                        We are strongly glad to announce that we have 
                                        {{ user_num|default:'0'|intcomma }} users that have trusted us.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section class="my-5 py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 ms-auto me-auto p-lg-4 mt-lg-0 mt-4">
                        <div class="rotating-card-container">
                            <div
                                class="card card-rotate card-background card-background-mask-dark shadow-dark mt-md-0 mt-5">
                                <div class="front front-background"
                                    style="background-image: url('../../static/assets/img/craiyon-4.webp'); background-size: cover;">
                                    <div class="card-body py-7 text-center">
                                        <i class="material-icons text-white text-4xl my-3">touch_app</i>
                                        <h3 class="text-white">Feel the <br /> Difference</h3>
                                        <p class="text-white opacity-8">
                                            Register your restaurant, add items to your restaurant, 
                                            receive your daily and weekly data, have your data visualized
                                            through charts and maps, and even more!
                                        </p>
                                    </div>
                                </div>
                                <div class="back back-background"
                                    style="background-image: url('../../static/assets/img/craiyon-5.webp'); background-size: cover;">
                                    <div class="card-body pt-7 text-center">
                                        <h3 class="text-white">Discover More</h3>
                                        <p class="text-white opacity-8"> Take a look at our guide 
                                            in order to gain a better understanding of how 
                                            things work here =)
                                        </p>
                                        <a href=".//sections/page-sections/hero-sections.html" target="_blank"
                                            class="btn btn-white btn-sm w-50 mx-auto mt-3">Step-by-Step Guide</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 ms-auto">
                        <div class="row justify-content-start">
                            <div class="col-md-6">
                                <div class="info">
                                    <i class="material-icons text-gradient text-primary text-3xl">content_copy</i>
                                    <h5 class="font-weight-bolder mt-3">Comprehensive Guide</h5>
                                    <p class="pe-5">
                                        Accomponied by a quite comprehensive guide, 
                                        the answer to your possible problems will be covered,
                                        and you won't need to worry about side cases and facing problems.
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="info">
                                    <i class="material-icons text-gradient text-primary text-3xl">flip_to_front</i>
                                    <h5 class="font-weight-bolder mt-3">Pleasing UI</h5>
                                    <p class="pe-3">
                                        A useful website needs to have an acceptable user interface.
                                        This website is built by a back-end developer, yet you got 
                                        a quite pleasing and simple UI for you.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-start mt-5">
                            <div class="col-md-6 mt-3">
                                <i class="material-icons text-gradient text-primary text-3xl">price_change</i>
                                <h5 class="font-weight-bolder mt-3">Save Time & Money</h5>
                                <p class="pe-5">
                                    This is a free platform for restaurants. So you won't 
                                    need to worry about the loss a paid subscription would 
                                    impose on you.
                                </p>
                            </div>
                            <div class="col-md-6 mt-3">
                                <div class="info">
                                    <i class="material-icons text-gradient text-primary text-3xl">devices</i>
                                    <h5 class="font-weight-bolder mt-3">Thorough Dashboard</h5>
                                    <p class="pe-3">
                                        Registering your restaurant here gives you access to a thorough 
                                        dashboard panel, where you presented different sections to manage 
                                        your items and staff, your monetary manners, sell data, and 
                                        lots of charts to help you analyze data.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    {% include 'base/includes/footer.html' %}

    <!--  Plugin for TypedJS, full documentation here: https://github.com/inorganik/CountUp.js -->
    <script src="{% static 'assets/js/plugins/countup.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/choices.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/prism.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/highlight.min.js' %}"></script>
    <!--  Plugin for Parallax, full documentation here: https://github.com/dixonandmoe/rellax -->
    <script src="{% static 'assets/js/plugins/rellax.min.js' %}"></script>
    <!--  Plugin for TiltJS, full documentation here: https://gijsroge.github.io/tilt.js/ -->
    <script src="{% static 'assets/js/plugins/tilt.min.js' %}"></script>
    <!--  Plugin for Selectpicker - ChoicesJS, full documentation here: https://github.com/jshjohnson/Choices -->
    <script src="{% static 'assets/js/plugins/choices.min.js' %}"></script>
    <script src="{% static 'assets/js/autocomplete.js' %}" type="text/javascript"></script>
    <script src="{% static 'assets/js/core/jquery.min.js' %}" type="text/javascript"></script>
    <script type="text/javascript">
        if (document.getElementById('state1')) {
            const countUp = new CountUp('state1', document.getElementById("state1").getAttribute("countTo"));
            if (!countUp.error) {
                countUp.start();
            } else {
                console.error(countUp.error);
            }
        }
        if (document.getElementById('state2')) {
            const countUp1 = new CountUp('state2', document.getElementById("state2").getAttribute("countTo"));
            if (!countUp1.error) {
                countUp1.start();
            } else {
                console.error(countUp1.error);
            }
        }
        if (document.getElementById('state3')) {
            const countUp2 = new CountUp('state3', document.getElementById("state3").getAttribute("countTo"));
            if (!countUp2.error) {
                countUp2.start();
            } else {
                console.error(countUp2.error);
            };
        }
    </script>
    <script>
        addressAutocomplete(document.getElementById("autocomplete-container"), (data) => {
                $("#addressLat").val(data.lat);
                $("#addressLon").val(data.lon);
                $("#addressForm").submit();
            }, {
                placeholder: "Wanna take a look at nearby restaurants? Just tell me your address champ: "
            });
    </script>
</body>

{% endblock %}